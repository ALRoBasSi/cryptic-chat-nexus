
# ๐ ูุธุงู ุฏุฑุฏุดุฉ ูุดูุฑ ูุน ูุธุงู ุตูุงุญูุงุช ูุชูุฏู RBAC

![ููุทุฉ ุดุงุดุฉ ูููุธุงู](https://github.com/yourusername/secure-chat-rbac/raw/main/screenshots/dashboard.png)

## ๐ ุฌุฏูู ุงููุญุชููุงุช

- [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
- [ุงููููุฒุงุช](#ุงููููุฒุงุช)
- [ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ](#ุงูุชูููุงุช-ุงููุณุชุฎุฏูุฉ)
- [ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช](#ูุฎุทุท-ูุงุนุฏุฉ-ุงูุจูุงูุงุช)
- [ูุฎุทุท ุงุณุชุฎุฏุงู ุงููุธุงู](#ูุฎุทุท-ุงุณุชุฎุฏุงู-ุงููุธุงู)
- [ุงููุฎุทุท ุงููุนูุงุฑู ูููุธุงู](#ุงููุฎุทุท-ุงููุนูุงุฑู-ูููุธุงู)
- [ุงูุฅุนุฏุงุฏ ูุงูุชุซุจูุช](#ุงูุฅุนุฏุงุฏ-ูุงูุชุซุจูุช)
- [ุงูุงุณุชุฎุฏุงู](#ุงูุงุณุชุฎุฏุงู)
- [ุฃูุงู ุงููุธุงู](#ุฃูุงู-ุงููุธุงู)
- [ุงููุณุงููุฉ](#ุงููุณุงููุฉ)
- [ุงูุชุฑุฎูุต](#ุงูุชุฑุฎูุต)

## ๐ ูุธุฑุฉ ุนุงูุฉ

**ูุธุงู ุฏุฑุฏุดุฉ ูุดูุฑ ูุน RBAC** ูู ููุตุฉ ุฏุฑุฏุดุฉ ุขููุฉ ููุดูุฑุฉ ุชู ุชุทููุฑูุง ูุชูููุฑ ุจูุฆุฉ ุงุชุตุงู ุฎุงุตุฉ ูุขููุฉ ุจูู ุงููุณุชุฎุฏููู. ูุชููุฒ ุงููุธุงู ุจุชุญูู ูุงูู ูู ูุจู ุงููุณุคูู (Admin) ูู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช ูุงูุบุฑูุ ูุน ุชุดููุฑ ููู ููุฑุณุงุฆู ุจุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุฉ AES-256.

### ููุฑุฉ ุงููุดุฑูุน

ุชู ุชุตููู ุงููุดุฑูุน ููููุฑ ููุตุฉ ุชูุงุตู ุฎุงุตุฉ ุจูู ูุฌููุนุฉ ูุญุฏุฏุฉ ูู ุงููุณุชุฎุฏูููุ ุญูุซ:

- ูุง ูููู ูุฃู ุดุฎุต ุงูุชุณุฌูู ุชููุงุฆูุงูุ ุจู ูุชู ุฅูุดุงุก ุงูุญุณุงุจุงุช ูู ูุจู ุงููุณุคูู ููุท
- ูุชู ุชุดููุฑ ุฌููุน ุงูุฑุณุงุฆู ุงููุชุจุงุฏูุฉ ูุจู ุชุฎุฒูููุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูุนุชูุฏ ุงููุธุงู ุนูู ูููุฐุฌ ุงูุชุญูู ูู ุงููุตูู ุงููุจูู ุนูู ุงูุฃุฏูุงุฑ (RBAC)
- ูุงุฌูุฉ ูุณุชุฎุฏู ุจุงููุบุฉ ุงูุนุฑุจูุฉ ูุน ุฏุนู RTL ููุณุชูุญุงุฉ ูู ุชุตุงููู ุงููุงูุฑุฒ

## โจ ุงููููุฒุงุช

### ๐ ุงูุฃูุงู ูุชุณุฌูู ุงูุฏุฎูู
- ูุธุงู ุชุณุฌูู ุฏุฎูู ุขูู ุจุฏูู ุชุณุฌูู ุฐุงุชู
- ุชุดููุฑ ูุฌููุน ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ูุงูุฑุณุงุฆู
- ุญูุงูุฉ ุถุฏ ูุฌูุงุช SQL Injection ู XSS ู CSRF
- ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช ุจุดูู ุขูู

### ๐ฅ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- ุฅูุดุงุก ุญุณุงุจุงุช ุงููุณุชุฎุฏููู ูุฏููุงู ูู ูุจู ุงููุณุคูู
- ุชุญุฏูุฏ ุฃุฏูุงุฑ ูุตูุงุญูุงุช ูุฎุตุตุฉ ููู ูุณุชุฎุฏู
- ูุธุงู ุญุธุฑ ูุฅูุบุงุก ุญุธุฑ ุงููุณุชุฎุฏููู
- ุชุนุฏูู ุตูุงุญูุงุช ุงููุณุชุฎุฏููู ูู ุฃู ููุช

### ๐ฌ ุบุฑู ุงูุฏุฑุฏุดุฉ
- ุฏุฑุฏุดุฉ ูุดูุฑุฉ ูู ุงูููุช ุงูุญูููู
- ุฅูุดุงุก ุบุฑู ุนุงูุฉ ูุฎุงุตุฉ
- ุฅููุงููุฉ ุฅุฑุณุงู ุงููุฑููุงุช (ูููุณุชุฎุฏููู ุงููุตุฑุญ ููู)
- ุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุฑุณุงุฆู ูุน ุชุดููุฑ ูุงูู

### โ๏ธ ุฅุนุฏุงุฏุงุช ุงููุธุงู
- ููุญุฉ ุชุญูู ูุงููุฉ ูููุณุคูู
- ุฅุฏุงุฑุฉ ููุงุชูุญ ุงูุชุดููุฑ ูุฎูุงุฑุฒููุงุช ุงูุชุดููุฑ
- ุถุจุท ุงูุตูุงุญูุงุช ุงูุงูุชุฑุงุถูุฉ ูููุณุชุฎุฏููู ุงูุฌุฏุฏ
- ุณุฌู ูุฑุงูุจุฉ (Audit Log) ูุชุชุจุน ุงูุนูููุงุช

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend)
- **React.js** - ููุชุจุฉ JavaScript ูุจูุงุก ูุงุฌูุงุช ุงููุณุชุฎุฏู ุงูุชูุงุนููุฉ
- **TypeScript** - ููุชุงุจุฉ ููุฏ ุขูู ูุน ุงูุชุญูู ูู ุงูุฃููุงุน
- **TailwindCSS** - ุฅุทุงุฑ ุนูู CSS ููุชุตููู ูุงูุชุทููุฑ ุงูุณุฑูุน
- **Shadcn/UI** - ููููุงุช UI ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู
- **Lucide Icons** - ููุชุจุฉ ุฃููููุงุช ูุชุทูุฑุฉ
- **React Router** - ููุชููู ุจูู ุตูุญุงุช ุงูุชุทุจูู
- **React Query** - ูุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุจูุงูุงุช ูุงูุทูุจุงุช

### ุงูุฎุงุฏู ูุงูุชุฎุฒูู (Backend & Storage)
- ุชุฎุฒูู ุงูุจูุงูุงุช ูู **localStorage** (ูู ูุฐุง ุงููููุฐุฌ ุงูุฃููู)
- ุชุดููุฑ ุงูุฑุณุงุฆู ุจุงุณุชุฎุฏุงู **AES-256**
- **JWT** ูุฅุฏุงุฑุฉ ุงูุฌูุณุงุช ูุงูุชุญูู ูู ุงููููุฉ

### ุงููุณุฎุฉ ุงููุงููุฉ (ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ) ุณุชุดูู:
- **Node.js** ุฃู **PHP/Laravel** ููุฎุงุฏู ุงูุฎููู
- **MySQL/PostgreSQL** ููุงุนุฏุฉ ุงูุจูุงูุงุช
- **WebSockets** ููุฏุฑุฏุดุฉ ูู ุงูููุช ุงูุญูููู
- **Redis** ูุฅุฏุงุฑุฉ ุงูุฌูุณุงุช
- **bcrypt** ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ

## ๐ ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูุนุชูุฏ ุงููุธุงู ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ูุชูุงููุฉ ุชุชููู ูู ุงูุฌุฏุงูู ุงูุชุงููุฉ:

### ุฌุฏูู ุงููุณุชุฎุฏููู `users`
| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|------|-------|
| id | VARCHAR(36) | ุงููุนุฑู ุงููุฑูุฏ ูููุณุชุฎุฏู (UUID) |
| username | VARCHAR(255) | ุงุณู ุงููุณุชุฎุฏู |
| password | VARCHAR(255) | ูููุฉ ุงููุฑูุฑ ุงููุดูุฑุฉ |
| role | ENUM('admin', 'client') | ุฏูุฑ ุงููุณุชุฎุฏู |
| createdAt | TIMESTAMP | ุชุงุฑูุฎ ุฅูุดุงุก ุงูุญุณุงุจ |
| lastLogin | TIMESTAMP | ุชุงุฑูุฎ ุขุฎุฑ ุชุณุฌูู ุฏุฎูู |
| active | BOOLEAN | ุญุงูุฉ ุงูุญุณุงุจ (ูุดุท/ุบูุฑ ูุดุท) |
| banned | BOOLEAN | ุญุงูุฉ ุงูุญุธุฑ |
| bannedUntil | TIMESTAMP NULL | ุชุงุฑูุฎ ุงูุชูุงุก ุงูุญุธุฑ (ุฅู ูุฌุฏ) |

### ุฌุฏูู ุงูุตูุงุญูุงุช `permissions`
| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|------|-------|
| userId | VARCHAR(36) | ูุนุฑู ุงููุณุชุฎุฏู (ููุชุงุญ ุฎุงุฑุฌู) |
| canCreateRoom | BOOLEAN | ุตูุงุญูุฉ ุฅูุดุงุก ุบุฑู |
| canUploadFiles | BOOLEAN | ุตูุงุญูุฉ ุฑูุน ูููุงุช |
| canDeleteMessages | BOOLEAN | ุตูุงุญูุฉ ุญุฐู ุงูุฑุณุงุฆู |
| canBanUsers | BOOLEAN | ุตูุงุญูุฉ ุญุธุฑ ุงููุณุชุฎุฏููู |

### ุฌุฏูู ุงูุบุฑู `rooms`
| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|------|-------|
| id | VARCHAR(36) | ุงููุนุฑู ุงููุฑูุฏ ููุบุฑูุฉ |
| name | VARCHAR(255) | ุงุณู ุงูุบุฑูุฉ |
| description | TEXT | ูุตู ุงูุบุฑูุฉ |
| createdBy | VARCHAR(36) | ูุนุฑู ููุดุฆ ุงูุบุฑูุฉ |
| createdAt | TIMESTAMP | ุชุงุฑูุฎ ุฅูุดุงุก ุงูุบุฑูุฉ |
| isPrivate | BOOLEAN | ูู ุงูุบุฑูุฉ ุฎุงุตุฉุ |

### ุฌุฏูู ุงููุณุชุฎุฏููู ุงููุณููุญ ููู ูู ุงูุบุฑู ุงูุฎุงุตุฉ `room_users`
| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|------|-------|
| roomId | VARCHAR(36) | ูุนุฑู ุงูุบุฑูุฉ |
| userId | VARCHAR(36) | ูุนุฑู ุงููุณุชุฎุฏู |

### ุฌุฏูู ุงูุฑุณุงุฆู `messages`
| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|------|-------|
| id | VARCHAR(36) | ุงููุนุฑู ุงููุฑูุฏ ููุฑุณุงูุฉ |
| roomId | VARCHAR(36) | ูุนุฑู ุงูุบุฑูุฉ |
| senderId | VARCHAR(36) | ูุนุฑู ุงููุฑุณู |
| content | TEXT | ูุญุชูู ุงูุฑุณุงูุฉ (ูุดูุฑ) |
| timestamp | TIMESTAMP | ููุช ุงูุฅุฑุณุงู |
| isEncrypted | BOOLEAN | ูู ุงูุฑุณุงูุฉ ูุดูุฑุฉุ |
| hasAttachment | BOOLEAN | ูู ุชุญุชูู ุนูู ูุฑููุ |
| attachmentUrl | VARCHAR(255) NULL | ุฑุงุจุท ุงููุฑูู (ุฅู ูุฌุฏ) |

### ุฌุฏูู ุฅุนุฏุงุฏุงุช ุงููุธุงู `system_settings`
| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|------|-------|
| id | INT | ุงููุนุฑู ุงููุฑูุฏ ููุฅุนุฏุงุฏ |
| settingKey | VARCHAR(255) | ููุชุงุญ ุงูุฅุนุฏุงุฏ |
| settingValue | TEXT | ูููุฉ ุงูุฅุนุฏุงุฏ |
| updatedAt | TIMESTAMP | ููุช ุขุฎุฑ ุชุญุฏูุซ |

### ุฌุฏูู ุณุฌู ุงููุฑุงูุจุฉ `audit_log`
| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|------|-------|
| id | INT AUTO_INCREMENT | ุงููุนุฑู ุงููุฑูุฏ ููุณุฌู |
| userId | VARCHAR(36) | ูุนุฑู ุงููุณุชุฎุฏู |
| action | VARCHAR(255) | ุงูุฅุฌุฑุงุก ุงููุชุฎุฐ |
| details | TEXT | ุชูุงุตูู ุงูุฅุฌุฑุงุก |
| timestamp | TIMESTAMP | ููุช ุงูุฅุฌุฑุงุก |
| ipAddress | VARCHAR(45) | ุนููุงู IP |

## ๐ ุงูุนูุงูุงุช ุจูู ุงูุฌุฏุงูู

- **ุนูุงูุฉ 1:1** ุจูู ุฌุฏูู `users` ูุฌุฏูู `permissions`
  - ูู ูุณุชุฎุฏู ูู ูุฌููุนุฉ ุตูุงุญูุงุช ูุงุญุฏุฉ

- **ุนูุงูุฉ 1:N** ุจูู ุฌุฏูู `users` ูุฌุฏูู `rooms`
  - ุงููุณุชุฎุฏู ููููู ุฅูุดุงุก ุนุฏุฉ ุบุฑู

- **ุนูุงูุฉ N:M** ุจูู ุฌุฏูู `users` ูุฌุฏูู `rooms` ูู ุฎูุงู ุฌุฏูู `room_users`
  - ุงููุณุชุฎุฏู ููููู ุงูุงูุถูุงู ูุนุฏุฉ ุบุฑู ุฎุงุตุฉ
  - ุงูุบุฑูุฉ ุงูุฎุงุตุฉ ูููู ุฃู ุชุถู ุนุฏุฉ ูุณุชุฎุฏููู

- **ุนูุงูุฉ 1:N** ุจูู ุฌุฏูู `rooms` ูุฌุฏูู `messages`
  - ุงูุบุฑูุฉ ุชุญุชูู ุนูู ุนุฏุฉ ุฑุณุงุฆู

- **ุนูุงูุฉ 1:N** ุจูู ุฌุฏูู `users` ูุฌุฏูู `messages`
  - ุงููุณุชุฎุฏู ููููู ุฅุฑุณุงู ุนุฏุฉ ุฑุณุงุฆู

## ๐ ูุฎุทุท ER (Entity Relationship)

```mermaid
erDiagram
    USERS ||--o{ PERMISSIONS : has
    USERS ||--o{ ROOMS : creates
    USERS ||--o{ MESSAGES : sends
    USERS }|--o{ ROOM_USERS : joins
    ROOMS ||--o{ MESSAGES : contains
    ROOMS }|--o{ ROOM_USERS : includes
    USERS ||--o{ AUDIT_LOG : generates
    SYSTEM_SETTINGS ||--o| SYSTEM : configures
```

## ๐ค ูุฎุทุท ุงุณุชุฎุฏุงู ุงููุธุงู (Use Case)

```mermaid
graph TD
    subgraph Admin
        A1[ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู]
        A2[ุฅูุดุงุก ุบุฑู]
        A3[ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช]
        A4[ุญุธุฑ ุงููุณุชุฎุฏููู]
        A5[ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ุงููุธุงู]
    end
    
    subgraph Client
        C1[ุงูุฏุฑุฏุดุฉ]
        C2[ุฅูุดุงุก ุบุฑู ูุน ุตูุงุญูุฉ]
        C3[ุฑูุน ูููุงุช ูุน ุตูุงุญูุฉ]
    end
    
    Admin --> A1 & A2 & A3 & A4 & A5
    Admin --> C1 & C2 & C3
    Client --> C1
    Client -- ุฅุฐุง ุณูุญ ุงููุณุคูู --> C2
    Client -- ุฅุฐุง ุณูุญ ุงููุณุคูู --> C3
```

## ๐๏ธ ุงููุฎุทุท ุงููุนูุงุฑู ูููุธุงู

```mermaid
flowchart TD
    subgraph Frontend
        UI[ูุงุฌูุฉ ุงููุณุชุฎุฏู React + TailwindCSS]
        Auth[ููููุงุช ุงููุตุงุฏูุฉ]
        Chat[ููููุงุช ุงูุฏุฑุฏุดุฉ]
        Admin[ููุญุฉ ุชุญูู ุงููุณุคูู]
    end
    
    subgraph Storage/State
        LS[localStorage]
        State[React Query State]
    end
    
    subgraph Security
        Encrypt[ูุญุฏุฉ ุงูุชุดููุฑ AES-256]
        RBAC[ูุธุงู ุงูุชุญูู ูู ุงูุตูุงุญูุงุช]
    end
    
    Frontend <--> Storage/State
    Frontend <--> Security
    
    %% ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
    subgraph Future-Backend
        API[ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช]
        Realtime[ุฎุฏูุฉ ุงูููุช ุงูุญูููู]
        DB[ูุงุนุฏุฉ ุงูุจูุงูุงุช]
    end
    
    UI --> Auth & Chat & Admin
    LS --> Encrypt
    State --> RBAC
```

## โ๏ธ ุงูุฅุนุฏุงุฏ ูุงูุชุซุจูุช

### ูุชุทูุจุงุช ุงููุธุงู
- Node.js 14+
- npm ุฃู yarn

### ุฎุทูุงุช ุงูุชุซุจูุช

1. ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน:
```bash
git clone https://github.com/yourusername/secure-chat-rbac.git
cd secure-chat-rbac
```

2. ุชุซุจูุช ุงูุงุนุชูุงุฏูุงุช:
```bash
npm install
```
ุฃู
```bash
yarn install
```

3. ุจุฏุก ุชุดุบูู ุงูุฎุงุฏู ุงููุญูู:
```bash
npm run dev
```
ุฃู
```bash
yarn dev
```

4. ูุชุญ ุงููุชุตูุญ ุนูู ุงูุนููุงู ุงูุชุงูู:
```
http://localhost:5173
```

## ๐ ุงูุงุณุชุฎุฏุงู

### ุชุณุฌูู ุงูุฏุฎูู
- ูู ุงููุณุฎุฉ ุงูุชุฌุฑูุจูุฉุ ูููู ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู ุงูุญุณุงุจุงุช ุงูุชุงููุฉ:
  - ุงููุณุคูู: ุงุณู ุงููุณุชุฎุฏู `ุงููุณุคูู` ููููุฉ ุงููุฑูุฑ `password`
  - ูุณุชุฎุฏู ุนุงุฏู: ุงุณู ุงููุณุชุฎุฏู `ูุณุชุฎุฏู ุนุงุฏู` ููููุฉ ุงููุฑูุฑ `password`

### ููุญุฉ ุชุญูู ุงููุณุคูู
- ุฅุถุงูุฉ ูุณุชุฎุฏููู ุฌุฏุฏ
- ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- ุฅูุดุงุก ุบุฑู ุงูุฏุฑุฏุดุฉ
- ูุฑุงูุจุฉ ุงููุธุงู

### ุงูุฏุฑุฏุดุฉ
- ุงุฎุชูุงุฑ ุบุฑูุฉ ููุฏุฑุฏุดุฉ
- ุฅุฑุณุงู ุฑุณุงุฆู ูุตูุฉ
- ุฅุฑุณุงู ูุฑููุงุช (ูููุณุชุฎุฏููู ุงููุตุฑุญ ููู)

## ๐ ุฃูุงู ุงููุธุงู

### ุชุดููุฑ ุงูุจูุงูุงุช
- ูุณุชุฎุฏู ุงููุธุงู ุฎูุงุฑุฒููุฉ **AES-256** ูุชุดููุฑ ุฌููุน ุงูุฑุณุงุฆู
- ูุชู ุชุฎุฒูู ุฌููุน ุงูุฑุณุงุฆู ุจุดูู ูุดูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูุชู ูู ุชุดููุฑ ุงูุฑุณุงุฆู ููุท ุนูุฏ ุนุฑุถูุง ูููุณุชุฎุฏู ุงููุตุฑุญ ูู

### ูุธุงู ุงูุตูุงุญูุงุช
- ูุนุชูุฏ ุงููุธุงู ุนูู ูููุฐุฌ **RBAC** ููุชุญูู ูู ุงูุตูุงุญูุงุช
- ูุชู ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู ูุจู ุชูููุฐ ุฃู ุฅุฌุฑุงุก
- ูููุน ุงููุธุงู ุงููุณุชุฎุฏููู ุบูุฑ ุงููุตุฑุญ ููู ูู ุงููุตูู ุฅูู ูุธุงุฆู ูุญุฏุฏุฉ

## ๐ ุฃูุงูุฑ SQL ูุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
CREATE DATABASE secure_chat_rbac CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE secure_chat_rbac;

-- ุฌุฏูู ุงููุณุชุฎุฏููู
CREATE TABLE users (
    id VARCHAR(36) PRIMARY KEY,
    username VARCHAR(255) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    role ENUM('admin', 'client') NOT NULL DEFAULT 'client',
    createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    lastLogin TIMESTAMP NULL,
    active BOOLEAN NOT NULL DEFAULT TRUE,
    banned BOOLEAN NOT NULL DEFAULT FALSE,
    bannedUntil TIMESTAMP NULL
);

-- ุฌุฏูู ุงูุตูุงุญูุงุช
CREATE TABLE permissions (
    userId VARCHAR(36) PRIMARY KEY,
    canCreateRoom BOOLEAN NOT NULL DEFAULT FALSE,
    canUploadFiles BOOLEAN NOT NULL DEFAULT FALSE,
    canDeleteMessages BOOLEAN NOT NULL DEFAULT FALSE,
    canBanUsers BOOLEAN NOT NULL DEFAULT FALSE,
    FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE
);

-- ุฌุฏูู ุงูุบุฑู
CREATE TABLE rooms (
    id VARCHAR(36) PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    createdBy VARCHAR(36) NOT NULL,
    createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    isPrivate BOOLEAN NOT NULL DEFAULT FALSE,
    FOREIGN KEY (createdBy) REFERENCES users(id)
);

-- ุฌุฏูู ุงููุณุชุฎุฏููู ุงููุณููุญ ููู ูู ุงูุบุฑู ุงูุฎุงุตุฉ
CREATE TABLE room_users (
    roomId VARCHAR(36) NOT NULL,
    userId VARCHAR(36) NOT NULL,
    PRIMARY KEY (roomId, userId),
    FOREIGN KEY (roomId) REFERENCES rooms(id) ON DELETE CASCADE,
    FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE
);

-- ุฌุฏูู ุงูุฑุณุงุฆู
CREATE TABLE messages (
    id VARCHAR(36) PRIMARY KEY,
    roomId VARCHAR(36) NOT NULL,
    senderId VARCHAR(36) NOT NULL,
    content TEXT NOT NULL,
    timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    isEncrypted BOOLEAN NOT NULL DEFAULT TRUE,
    hasAttachment BOOLEAN NOT NULL DEFAULT FALSE,
    attachmentUrl VARCHAR(255) NULL,
    FOREIGN KEY (roomId) REFERENCES rooms(id) ON DELETE CASCADE,
    FOREIGN KEY (senderId) REFERENCES users(id)
);

-- ุฌุฏูู ุฅุนุฏุงุฏุงุช ุงููุธุงู
CREATE TABLE system_settings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    settingKey VARCHAR(255) NOT NULL UNIQUE,
    settingValue TEXT,
    updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- ุฌุฏูู ุณุฌู ุงููุฑุงูุจุฉ
CREATE TABLE audit_log (
    id INT AUTO_INCREMENT PRIMARY KEY,
    userId VARCHAR(36) NOT NULL,
    action VARCHAR(255) NOT NULL,
    details TEXT,
    timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    ipAddress VARCHAR(45),
    FOREIGN KEY (userId) REFERENCES users(id)
);

-- ุฅูุดุงุก ุงููุณุชุฎุฏู ุงููุณุคูู ุงูุงูุชุฑุงุถู
INSERT INTO users (id, username, password, role, createdAt, active)
VALUES ('admin1', 'ุงููุณุคูู', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'admin', NOW(), TRUE);

-- ุฅุถุงูุฉ ุตูุงุญูุงุช ุงููุณุคูู
INSERT INTO permissions (userId, canCreateRoom, canUploadFiles, canDeleteMessages, canBanUsers)
VALUES ('admin1', TRUE, TRUE, TRUE, TRUE);

-- ุฅูุดุงุก ุบุฑูุฉ ุนุงูุฉ ุงูุชุฑุงุถูุฉ
INSERT INTO rooms (id, name, description, createdBy, createdAt, isPrivate)
VALUES ('room1', 'ุบุฑูุฉ ุนุงูุฉ', 'ุบุฑูุฉ ูุญุงุฏุซุฉ ุนุงูุฉ ูุฌููุน ุงููุณุชุฎุฏููู', 'admin1', NOW(), FALSE);

-- ุฅุถุงูุฉ ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุงูุชุฑุงุถูุฉ
INSERT INTO system_settings (settingKey, settingValue) VALUES 
('encryptionAlgorithm', 'AES-256'),
('messageRetentionDays', '30'),
('enableAuditLog', 'true'),
('defaultPermissions', '{"canCreateRoom":false,"canUploadFiles":false,"canDeleteMessages":false,"canBanUsers":false}');
```

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจูุณุงููุงุชูู ูู ุชุทููุฑ ูุฐุง ุงููุดุฑูุน. ูุฑุฌู ุงุชุจุงุน ุงูุฎุทูุงุช ุงูุชุงููุฉ:

1. ุนูู Fork ูููุดุฑูุน
2. ุฅูุดุงุก ูุฑุน ุฌุฏูุฏ (`git checkout -b feature/amazing-feature`)
3. ุนูู Commit ููุชุบููุฑุงุช (`git commit -m 'ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ'`)
4. ุนูู Push ูููุฑุน (`git push origin feature/amazing-feature`)
5. ูุชุญ ุทูุจ Pull Request

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT - ุงูุธุฑ ููู [LICENSE](LICENSE) ูููุฒูุฏ ูู ุงูุชูุงุตูู.

---

ุชู ุชุทููุฑ ูุฐุง ุงููุดุฑูุน ุจูุงุณุทุฉ [ุงุณูู ููุง] ยฉ 2025

