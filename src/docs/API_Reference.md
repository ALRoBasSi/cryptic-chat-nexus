
# ูุณุชูุฏ ุงููุฑุฌุน ุงูุจุฑูุฌู (API Reference)

## ูุฑุฌุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ููุธุงู ุงูุฏุฑุฏุดุฉ ุงููุดูุฑ

ูุฐุง ุงููุณุชูุฏ ููุถุญ ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (APIs) ุงููุชุงุญุฉ ูู ุงููุณุฎุฉ ุงูุญุงููุฉ ูู ุงููุธุงู ูุงูุชู ูููู ุงุณุชุฎุฏุงููุง ูุชุทููุฑ ูุงุฌูุงุช ุฃู ุชูุงููุงุช ุฅุถุงููุฉ.

## ๐ ูุญุฏุฉ ุงููุตุงุฏูุฉ ูุงูุฃูุงู (auth.ts)

### ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ

```typescript
// ุฃููุงุน ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ
export type UserRole = 'admin' | 'client';

// ุชุนุฑูู ุงูุตูุงุญูุงุช
export interface Permission {
  canCreateRoom: boolean;
  canUploadFiles: boolean;
  canDeleteMessages: boolean;
  canBanUsers: boolean;
}

// ุชุนุฑูู ุงููุณุชุฎุฏู
export interface User {
  id: string;
  username: string;
  role: UserRole;
  permissions: Permission;
  createdAt: string;
  lastLogin: string;
  active: boolean;
  banned: boolean;
  bannedUntil?: string;
}
```

### ุฏูุงู ุงููุตุงุฏูุฉ

#### ุชููุฆุฉ ุงููุธุงู
```typescript
// ุชููุฆุฉ ูุธุงู ุงููุตุงุฏูุฉ
export const initializeAuth = (): void
```
ุชููู ุจุชููุฆุฉ ูุธุงู ุงููุตุงุฏูุฉ ูุฅูุดุงุก ุงููุณุชุฎุฏููู ุงูุงูุชุฑุงุถููู ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ.

#### ุชุณุฌูู ุงูุฏุฎูู
```typescript
// ุฏุงูุฉ ุงููุตุงุฏูุฉ
export const authenticateUser = (username: string, password: string): User | null
```
ุชุชุญูู ูู ุตุญุฉ ุจูุงูุงุช ุงููุณุชุฎุฏู ูุชุฑุฌุน ูุงุฆู ุงููุณุชุฎุฏู ูู ุญุงูุฉ ูุฌุงุญ ุชุณุฌูู ุงูุฏุฎูู.

#### ุชุณุฌูู ุงูุฎุฑูุฌ
```typescript
// ุชุณุฌูู ุฎุฑูุฌ ุงููุณุชุฎุฏู
export const logoutUser = (): void
```
ุชููู ุจุฅุฒุงูุฉ ุจูุงูุงุช ุฌูุณุฉ ุงููุณุชุฎุฏู ุงูุญุงูู ูุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู.

#### ุงูุญุตูู ุนูู ุงููุณุชุฎุฏู ุงูุญุงูู
```typescript
// ุงูุญุตูู ุนูู ุงููุณุชุฎุฏู ุงูุญุงูู
export const getCurrentUser = (): User | null
```
ุชุฑุฌุน ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุฐู ูุงู ุจุชุณุฌูู ุงูุฏุฎูู ุญุงููุงู.

#### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
```typescript
// ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
export const checkPermission = (permission: keyof Permission): boolean
```
ุชุชุญูู ูุง ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ุงูุญุงูู ูููู ุตูุงุญูุฉ ูุญุฏุฏุฉ.

### ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู

#### ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ
```typescript
// ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ (ูููุณุคูู ููุท)
export const addUser = (newUser: Omit<User, 'id' | 'createdAt' | 'lastLogin'>): boolean
```
ุชุถูู ูุณุชุฎุฏู ุฌุฏูุฏ ุฅูู ุงููุธุงู (ูุชุงุญุฉ ูููุณุคูู ููุท).

#### ุชุญุฏูุซ ุตูุงุญูุงุช ุงููุณุชุฎุฏู
```typescript
// ุชุญุฏูุซ ุตูุงุญูุงุช ุงููุณุชุฎุฏู (ูููุณุคูู ููุท)
export const updateUserPermissions = (userId: string, permissions: Permission): boolean
```
ุชููู ุจุชุญุฏูุซ ุตูุงุญูุงุช ูุณุชุฎุฏู ูุญุฏุฏ.

#### ุญุธุฑ/ุฅูุบุงุก ุญุธุฑ ูุณุชุฎุฏู
```typescript
// ุญุธุฑ/ุฅูุบุงุก ุญุธุฑ ูุณุชุฎุฏู (ูููุณุคูู ููุท)
export const toggleUserBan = (userId: string, ban: boolean, until?: Date): boolean
```
ุชููู ุจุญุธุฑ ุฃู ุฅูุบุงุก ุญุธุฑ ูุณุชุฎุฏู ูุญุฏุฏ.

#### ุงูุญุตูู ุนูู ุฌููุน ุงููุณุชุฎุฏููู
```typescript
// ุงูุญุตูู ุนูู ุฌููุน ุงููุณุชุฎุฏููู (ูููุณุคูู ููุท)
export const getAllUsers = (): User[] | null
```
ุชุฑุฌุน ูุงุฆูุฉ ุจุฌููุน ุงููุณุชุฎุฏููู ุงููุณุฌููู ูู ุงููุธุงู.

### ูุธุงุฆู ุงูุชุดููุฑ

#### ุชุดููุฑ ุงูุจูุงูุงุช
```typescript
// ุชุดููุฑ ุงูุจูุงูุงุช
export const encryptData = (data: string): string
```
ุชููู ุจุชุดููุฑ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ.

#### ูู ุชุดููุฑ ุงูุจูุงูุงุช
```typescript
// ูู ุชุดููุฑ ุงูุจูุงูุงุช
export const decryptData = (encryptedData: string): string
```
ุชููู ุจูู ุชุดููุฑ ุงูุจูุงูุงุช ุงููุดูุฑุฉ.

## ๐ฌ ูุญุฏุฉ ุงูุฏุฑุฏุดุฉ (chat.ts)

### ุชุนุฑูู ุงููุงุฆูุงุช

```typescript
// ุชุนุฑูู ุบุฑูุฉ ุงูุฏุฑุฏุดุฉ
export interface Room {
  id: string;
  name: string;
  description: string;
  createdBy: string;
  createdAt: string;
  isPrivate: boolean;
  allowedUsers: string[];
}

// ุชุนุฑูู ุงูุฑุณุงูุฉ
export interface Message {
  id: string;
  roomId: string;
  senderId: string;
  senderName: string;
  content: string;
  timestamp: string;
  isEncrypted: boolean;
  hasAttachment: boolean;
  attachmentUrl?: string;
}
```

### ุฅุฏุงุฑุฉ ุงูุบุฑู

#### ุชููุฆุฉ ูุธุงู ุงูุฏุฑุฏุดุฉ
```typescript
// ุชููุฆุฉ ูุธุงู ุงูุฏุฑุฏุดุฉ
export const initializeChat = (): void
```
ุชููู ุจุชููุฆุฉ ูุธุงู ุงูุฏุฑุฏุดุฉ ูุฅูุดุงุก ุงูุบุฑู ุงูุงูุชุฑุงุถูุฉ ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ.

#### ุงูุญุตูู ุนูู ูุงุฆูุฉ ุงูุบุฑู
```typescript
// ุงูุญุตูู ุนูู ูุงุฆูุฉ ุงูุบุฑู
export const getRooms = (): Room[]
```
ุชุฑุฌุน ูุงุฆูุฉ ุจุงูุบุฑู ุงููุชุงุญุฉ ูููุณุชุฎุฏู ุงูุญุงูู.

#### ุงูุญุตูู ุนูู ุบุฑูุฉ ูุญุฏุฏุฉ
```typescript
// ุงูุญุตูู ุนูู ุบุฑูุฉ ูุญุฏุฏุฉ
export const getRoom = (roomId: string): Room | null
```
ุชุฑุฌุน ุจูุงูุงุช ุบุฑูุฉ ูุญุฏุฏุฉ ุจูุงุณุทุฉ ุงููุนุฑู.

#### ุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉ
```typescript
// ุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉ
export const createRoom = (room: Omit<Room, 'id' | 'createdBy' | 'createdAt'>): Room | null
```
ุชูุดุฆ ุบุฑูุฉ ุฏุฑุฏุดุฉ ุฌุฏูุฏุฉ.

### ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู

#### ุงูุญุตูู ุนูู ุฑุณุงุฆู ุบุฑูุฉ ูุนููุฉ
```typescript
// ุงูุญุตูู ุนูู ุฑุณุงุฆู ุบุฑูุฉ ูุนููุฉ
export const getRoomMessages = (roomId: string): Message[]
```
ุชุฑุฌุน ูุงุฆูุฉ ุจุงูุฑุณุงุฆู ุงูููุฌูุฏุฉ ูู ุบุฑูุฉ ูุญุฏุฏุฉ.

#### ุฅุฑุณุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ
```typescript
// ุฅุฑุณุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ
export const sendMessage = (
  roomId: string, 
  content: string, 
  attachment?: File
): Message | null
```
ุชููู ุจุฅุฑุณุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ ุฅูู ุบุฑูุฉ ูุญุฏุฏุฉุ ูุน ุฅููุงููุฉ ุฅุฑูุงู ููู.

#### ุญุฐู ุฑุณุงูุฉ
```typescript
// ุญุฐู ุฑุณุงูุฉ
export const deleteMessage = (messageId: string): boolean
```
ุชููู ุจุญุฐู ุฑุณุงูุฉ ูุญุฏุฏุฉ (ูููุณุคูู ุฃู ุตุงุญุจ ุงูุฑุณุงูุฉ ูุน ุตูุงุญูุฉ ุงูุญุฐู).

### ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูู ุงูุบุฑู

#### ุฅุถุงูุฉ ูุณุชุฎุฏู ุฅูู ุบุฑูุฉ ุฎุงุตุฉ
```typescript
// ุฅุถุงูุฉ ูุณุชุฎุฏู ุฅูู ุบุฑูุฉ ุฎุงุตุฉ
export const addUserToRoom = (roomId: string, userId: string): boolean
```
ุชุถูู ูุณุชุฎุฏู ุฅูู ุบุฑูุฉ ุฎุงุตุฉ.

#### ุฅุฒุงูุฉ ูุณุชุฎุฏู ูู ุบุฑูุฉ ุฎุงุตุฉ
```typescript
// ุฅุฒุงูุฉ ูุณุชุฎุฏู ูู ุบุฑูุฉ ุฎุงุตุฉ
export const removeUserFromRoom = (roomId: string, userId: string): boolean
```
ุชุฒูู ูุณุชุฎุฏู ูู ุบุฑูุฉ ุฎุงุตุฉ.

## ๐ป ููููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุตูุญุงุช ุงููุธุงู

#### ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (Index.tsx)
ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูููุธุงู ูุงูุชู ุชุญุชูู ุนูู ูููุฐุฌ ุชุณุฌูู ุงูุฏุฎูู.

#### ููุญุฉ ุชุญูู ุงููุณุคูู (Dashboard.tsx)
ููุญุฉ ุชุญูู ูุงููุฉ ูููุณุคูู ุชุชูุญ ูู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุบุฑู.

#### ุตูุญุฉ ุงูุฏุฑุฏุดุฉ (Chat.tsx)
ุตูุญุฉ ููุฏุฑุฏุดุฉ ูู ุงูุบุฑู ุงููุชุงุญุฉ ูููุณุชุฎุฏู.

#### ุตูุญุฉ ุฅุถุงูุฉ ูุณุชุฎุฏู (UserAdd.tsx)
ุตูุญุฉ ูุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ ุจูุงุณุทุฉ ุงููุณุคูู.

#### ุตูุญุฉ ุชุนุฏูู ุจูุงูุงุช ุงููุณุชุฎุฏู (UserEdit.tsx)
ุตูุญุฉ ูุชุนุฏูู ุจูุงูุงุช ูุตูุงุญูุงุช ูุณุชุฎุฏู ููุฌูุฏ.

#### ุตูุญุฉ ุฅุถุงูุฉ ุบุฑูุฉ (RoomAdd.tsx)
ุตูุญุฉ ูุฅูุดุงุก ุบุฑูุฉ ุฏุฑุฏุดุฉ ุฌุฏูุฏุฉ.

#### ุตูุญุฉ ุชุนุฏูู ุบุฑูุฉ (RoomEdit.tsx)
ุตูุญุฉ ูุชุนุฏูู ุจูุงูุงุช ุบุฑูุฉ ููุฌูุฏุฉ.

#### ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงููุธุงู (SystemSettings.tsx)
ุตูุญุฉ ูุถุจุท ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงููุฎุชููุฉ.

## ๐ ุฏูุฑุฉ ุญูุงุฉ ุงูุทูุจุงุช

### ุชุณุฌูู ุงูุฏุฎูู
1. ูููู ุงููุณุชุฎุฏู ุจุฅุฏุฎุงู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ
2. ูุชู ุงุณุชุฏุนุงุก `authenticateUser` ููุชุญูู ูู ุงูุจูุงูุงุช
3. ูู ุญุงูุฉ ุงููุฌุงุญุ ูุชู ุชุฎุฒูู ุจูุงูุงุช ุงููุณุชุฎุฏู ูู `localStorage`
4. ูุชู ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุงูุตูุญุฉ ุงูููุงุณุจุฉ ุญุณุจ ุฏูุฑู

### ุฅุฑุณุงู ุฑุณุงูุฉ
1. ูููู ุงููุณุชุฎุฏู ุจูุชุงุจุฉ ุฑุณุงูุฉ ูุฅุฑุณุงููุง
2. ูุชู ุงุณุชุฏุนุงุก `sendMessage` ูุฅุฑุณุงู ุงูุฑุณุงูุฉ
3. ูุชู ุชุดููุฑ ูุญุชูู ุงูุฑุณุงูุฉ ุจุงุณุชุฎุฏุงู `encryptData`
4. ูุชู ุชุฎุฒูู ุงูุฑุณุงูุฉ ุงููุดูุฑุฉ ูู `localStorage`
5. ูุชู ุนุฑุถ ุงูุฑุณุงูุฉ ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
1. ูููู ุงููุณุคูู ุจุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ ุฃู ุชุนุฏูู ุจูุงูุงุช ูุณุชุฎุฏู ููุฌูุฏ
2. ูุชู ุงุณุชุฏุนุงุก `addUser` ุฃู `updateUserPermissions`
3. ูุชู ุชุญุฏูุซ ุจูุงูุงุช ุงููุณุชุฎุฏููู ูู `localStorage`
4. ูุชู ุนุฑุถ ุฑุณุงูุฉ ุชุฃููุฏ ูููุณุคูู

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ูุงุฌูุงุช ุจุฑูุฌุฉ ุฅุถุงููุฉ ููุชุฑุญุฉ
- ูุงุฌูุฉ ุจุฑูุฌุฉ ูููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ (2FA)
- ูุงุฌูุฉ ุจุฑูุฌุฉ ููุฅุดุนุงุฑุงุช ูู ุงูููุช ุงูุญูููู
- ูุงุฌูุฉ ุจุฑูุฌุฉ ูููุงููุงุช ุงูููุฏูู ูุงูุตูุช
- ูุงุฌูุฉ ุจุฑูุฌุฉ ูููุณุฎ ุงูุงุญุชูุงุทู ูุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช

### ุชุญุณููุงุช ููุชุฑุญุฉ
- ุชุญููู ุงููุธุงู ูู ุงุณุชุฎุฏุงู `localStorage` ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ
- ุฅุถุงูุฉ ุฏุนู WebSockets ููุงุชุตุงู ูู ุงูููุช ุงูุญูููู
- ุชุญุณูู ุฃูุงู ุงููุธุงู ุจุงุณุชุฎุฏุงู ุชูููุงุช ุฃูุซุฑ ุชูุฏูุงู
- ุฅุถุงูุฉ ุฏุนู ูููุตุงุฏูุฉ ุงูุฎุงุฑุฌูุฉ (OAuth, OpenID)
